<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Northern Tech Solutions - Canadian AI Enterprise Search</title>
    <style>
        /* Base Styles */
        :root {
            --primary-red: #e63946;
            --primary-white: #f1faee;
            --primary-light-blue: #a8dadc;
            --primary-blue: #457b9d;
            --primary-dark-blue: #1d3557;
            --compliant-green: #2a9d8f;
            --warning-yellow: #e9c46a;
            --danger-red: #e76f51;
            --bg-color: #f8f9fa;
            --card-bg: #ffffff;
            --text-color: #333333;
            --border-color: #dee2e6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Header Styles */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 30px;
        }

        .logo {
            display: flex;
            align-items: center;
        }

        .logo h1 {
            font-size: 24px;
            color: var(--primary-dark-blue);
            margin-left: 10px;
        }

        .maple-leaf {
            color: var(--primary-red);
            font-size: 24px;
        }

        .compliance-indicator {
            display: flex;
            align-items: center;
            background-color: var(--compliant-green);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: 600;
        }

        .shield-icon {
            margin-right: 8px;
        }

        /* Tab Navigation */
        .tabs {
            display: flex;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 20px;
        }

        .tab {
            padding: 10px 20px;
            cursor: pointer;
            border: 1px solid transparent;
            border-bottom: none;
            border-radius: 4px 4px 0 0;
            background-color: transparent;
            font-weight: 600;
            color: var(--text-color);
        }

        .tab.active {
            background-color: var(--card-bg);
            border-color: var(--border-color);
            color: var(--primary-blue);
            border-bottom: 2px solid var(--primary-blue);
        }

        /* Tab Content */
        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Card Styles */
        .card {
            background-color: var(--card-bg);
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 20px;
            margin-bottom: 20px;
            position: relative;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 10px;
        }

        .card-title {
            font-size: 18px;
            color: var(--primary-dark-blue);
            font-weight: 600;
            display: flex;
            align-items: center;
        }

        .card-title i {
            margin-right: 8px;
        }

        /* Dashboard Layout */
        .dashboard {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 20px;
        }

        /* Document Library */
        .document-list {
            list-style: none;
            margin-top: 15px;
        }

        .document-item {
            display: flex;
            align-items: center;
            padding: 10px;
            border-bottom: 1px solid var(--border-color);
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .document-item:hover {
            background-color: rgba(168, 218, 220, 0.1);
        }

        .document-item.active {
            background-color: rgba(168, 218, 220, 0.2);
            border-left: 3px solid var(--primary-blue);
        }

        .document-icon {
            margin-right: 10px;
            color: var(--primary-blue);
        }

        .document-info {
            flex: 1;
        }

        .document-title {
            font-weight: 600;
            margin-bottom: 3px;
        }

        .document-meta {
            font-size: 12px;
            color: #666;
            display: flex;
            justify-content: space-between;
        }

        .document-type {
            background-color: var(--primary-light-blue);
            color: var(--primary-dark-blue);
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: 600;
        }

        .document-status {
            display: flex;
            align-items: center;
            font-size: 12px;
            margin-top: 5px;
        }

        .status-icon {
            margin-right: 5px;
            color: var(--compliant-green);
        }

        .status-text {
            color: var(--compliant-green);
        }

        /* Document Preview */
        .document-preview {
            height: 400px;
            overflow-y: auto;
            padding: 20px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background-color: #f8f9fa;
            margin-top: 15px;
        }

        .document-tags {
            margin-top: 10px;
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }

        .document-tag {
            background-color: var(--primary-light-blue);
            color: var(--primary-dark-blue);
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 11px;
        }

        /* Chat Interface */
        .chat-container {
            display: flex;
            flex-direction: column;
            height: 500px;
        }

        .chat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 15px;
        }

        .chat-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--primary-dark-blue);
            display: flex;
            align-items: center;
        }

        .chat-title i {
            margin-right: 10px;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 15px;
            height: 300px;
        }

        .message {
            max-width: 80%;
            padding: 12px 15px;
            border-radius: 18px;
            line-height: 1.4;
            position: relative;
        }

        .user-message {
            align-self: flex-end;
            background-color: var(--primary-blue);
            color: white;
            border-bottom-right-radius: 5px;
        }

        .ai-message {
            align-self: flex-start;
            background-color: #f0f0f0;
            color: var(--text-color);
            border-bottom-left-radius: 5px;
        }

        .message-source {
            font-size: 11px;
            color: rgba(0, 0, 0, 0.5);
            margin-top: 5px;
            font-style: italic;
        }

        .chat-input-container {
            display: flex;
            border: 1px solid var(--border-color);
            border-radius: 24px;
            overflow: hidden;
            padding: 5px;
        }

        .chat-input {
            flex: 1;
            border: none;
            padding: 10px 15px;
            outline: none;
            font-size: 14px;
        }

        .send-button {
            background-color: var(--primary-blue);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
        }

        .send-icon {
            width: 20px;
            height: 20px;
            fill: white;
        }

        /* Memory System */
        .memory-indicator {
            display: flex;
            align-items: center;
            background-color: var(--primary-light-blue);
            color: var(--primary-dark-blue);
            padding: 4px 8px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .memory-count {
            background-color: var(--primary-blue);
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            margin-left: 5px;
        }

        .memory-panel {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid var(--border-color);
        }

        .memory-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--primary-dark-blue);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .memory-items {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }

        .memory-item {
            background-color: rgba(168, 218, 220, 0.2);
            border: 1px solid var(--primary-light-blue);
            border-radius: 15px;
            padding: 5px 10px;
            font-size: 12px;
            display: flex;
            align-items: center;
            color: var(--primary-dark-blue);
        }

        .memory-item i {
            margin-right: 5px;
        }

        .memory-clear {
            background-color: transparent;
            border: none;
            color: var(--primary-blue);
            font-size: 12px;
            cursor: pointer;
            padding: 2px 5px;
        }

        .highlight {
            background-color: rgba(233, 196, 106, 0.3);
            padding: 2px 0;
        }

        /* Charts & Analytics */
        .metrics {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .metric-card {
            background-color: var(--card-bg);
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 15px;
            text-align: center;
        }

        .metric-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary-dark-blue);
            margin: 10px 0;
        }

        .metric-label {
            font-size: 14px;
            color: #666;
        }

        .metric-trend {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 10px;
            font-size: 14px;
        }

        .trend-up {
            color: var(--compliant-green);
        }

        .trend-down {
            color: var(--danger-red);
        }

        /* Simple CSS Charts */
        .chart-container {
            background-color: var(--card-bg);
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 20px;
            margin-bottom: 20px;
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
        }

        .chart-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--primary-dark-blue);
        }

        /* Simple Bar Chart */
        .simple-bar-chart {
            display: flex;
            align-items: flex-end;
            height: 250px;
            padding-top: 20px;
            margin-bottom: 30px;
            position: relative;
        }

        .simple-bar {
            flex: 1;
            margin: 0 5px;
            background-color: var(--primary-blue);
            border-radius: 4px 4px 0 0;
            position: relative;
            transition: height 1s ease;
        }

        .simple-bar-label {
            position: absolute;
            bottom: -25px;
            left: 0;
            right: 0;
            text-align: center;
            font-size: 12px;
        }

        .simple-bar-value {
            position: absolute;
            top: -25px;
            left: 0;
            right: 0;
            text-align: center;
            font-size: 12px;
            font-weight: bold;
        }

        /* Simple Line Chart */
        .simple-line-chart {
            height: 250px;
            position: relative;
            margin-top: 20px;
            margin-bottom: 30px;
            border-bottom: 1px solid var(--border-color);
            border-left: 1px solid var(--border-color);
            padding: 10px;
        }

        .simple-line-point {
            position: absolute;
            width: 8px;
            height: 8px;
            background-color: var(--primary-blue);
            border-radius: 50%;
            transform: translate(-4px, -4px);
        }

        .simple-line-segment {
            position: absolute;
            height: 2px;
            background-color: var(--primary-blue);
            transform-origin: left center;
        }

        .simple-line-forecast {
            position: absolute;
            height: 2px;
            background-color: var(--primary-red);
            transform-origin: left center;
            border-top: 2px dashed var(--primary-red);
        }

        .simple-line-label {
            position: absolute;
            bottom: -25px;
            text-align: center;
            font-size: 12px;
            transform: translateX(-50%);
        }

        .simple-line-value {
            position: absolute;
            top: -20px;
            text-align: center;
            font-size: 12px;
            transform: translateX(-50%);
        }

        .chart-legend {
            display: flex;
            justify-content: center;
            margin-top: 30px;
            gap: 20px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            font-size: 12px;
        }

        .legend-color {
            width: 12px;
            height: 12px;
            margin-right: 5px;
            border-radius: 2px;
        }

        .canadian-theme {
            border-top: 3px solid var(--primary-red);
            position: relative;
        }

        .canadian-theme::before {
            content: "üçÅ";
            position: absolute;
            top: -15px;
            left: 20px;
            font-size: 20px;
        }

        /* Model Selector */
        .model-selector {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .model-selector label {
            margin-right: 10px;
            font-size: 14px;
            color: var(--primary-dark-blue);
            font-weight: 600;
        }

        .model-selector select {
            padding: 5px 10px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            background-color: var(--card-bg);
            color: var(--text-color);
            font-size: 14px;
        }

        /* Document Upload */
        .upload-area {
            border: 2px dashed var(--border-color);
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            margin-top: 15px;
            cursor: pointer;
        }

        .upload-icon {
            font-size: 30px;
            color: var(--primary-blue);
            margin-bottom: 10px;
        }

        .upload-text {
            font-size: 14px;
            color: #666;
        }

        .processing-indicator {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px;
            background-color: rgba(168, 218, 220, 0.2);
            border-radius: 8px;
            margin: 10px 0;
        }

        .loader {
            border: 3px solid #f3f3f3;
            border-top: 3px solid var(--primary-blue);
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
            display: inline-block;
            margin-right: 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .processing-text {
            font-size: 14px;
            color: var(--primary-dark-blue);
        }

        /* Error Message */
        .error-message {
            background-color: rgba(231, 111, 81, 0.1);
            border-left: 4px solid var(--danger-red);
            padding: 10px 15px;
            margin: 10px 0;
            border-radius: 4px;
            font-size: 14px;
            color: var(--danger-red);
        }

        /* Loading Indicator for Streaming */
        .typing-indicator {
            display: flex;
            align-items: center;
            padding: 8px 15px;
            background-color: #f0f0f0;
            border-radius: 18px;
            border-bottom-left-radius: 5px;
            align-self: flex-start;
            margin-bottom: 10px;
        }

        .typing-dots {
            display: flex;
            align-items: center;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background-color: #999;
            border-radius: 50%;
            margin: 0 2px;
            animation: typingAnimation 1.5s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) {
            animation-delay: 0s;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typingAnimation {
            0%, 60%, 100% {
                transform: translateY(0);
                opacity: 0.6;
            }
            30% {
                transform: translateY(-5px);
                opacity: 1;
            }
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
            }

            .metrics {
                grid-template-columns: 1fr 1fr;
            }
        }

        @media (max-width: 480px) {
            .metrics {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <span class="maple-leaf">üçÅ</span>
                <h1>Northern Tech Solutions</h1>
            </div>
            <div class="compliance-indicator">
                <span class="shield-icon">üõ°Ô∏è</span>
                <span>Canadian Data Compliant</span>
            </div>
        </header>

        <div class="tabs">
            <button class="tab active" data-tab="documents">Document Assistant</button>
            <button class="tab" data-tab="analytics">Data Analytics</button>
        </div>

        <!-- Document Assistant Tab -->
        <div class="tab-content active" id="documents-tab">
            <div class="dashboard">
                <div class="sidebar">
                    <div class="card canadian-theme">
                        <div class="card-header">
                            <div class="card-title">
                                <span class="document-icon">üìÅ</span> Document Library
                            </div>
                        </div>
                        <div class="document-library">
                            <ul class="document-list" id="document-list">
                                <li class="document-item active" data-id="D001">
                                    <span class="document-icon">üìÑ</span>
                                    <div class="document-info">
                                        <div class="document-title">SecureVault Product Manual</div>
                                        <div class="document-meta">
                                            <span>Apr 22, 2025</span>
                                            <span class="document-type">PDF</span>
                                        </div>
                                        <div class="document-status">
                                            <span class="status-icon">‚úì</span>
                                            <span class="status-text">Canadian Hosted</span>
                                        </div>
                                    </div>
                                </li>
                                <li class="document-item" data-id="D002">
                                    <span class="document-icon">üìÑ</span>
                                    <div class="document-info">
                                        <div class="document-title">Canadian Data Residency Guide</div>
                                        <div class="document-meta">
                                            <span>Mar 15, 2025</span>
                                            <span class="document-type">PDF</span>
                                        </div>
                                        <div class="document-status">
                                            <span class="status-icon">‚úì</span>
                                            <span class="status-text">Canadian Hosted</span>
                                        </div>
                                    </div>
                                </li>
                                <li class="document-item" data-id="D003">
                                    <span class="document-icon">üìÑ</span>
                                    <div class="document-info">
                                        <div class="document-title">Company Overview</div>
                                        <div class="document-meta">
                                            <span>Feb 5, 2025</span>
                                            <span class="document-type">PDF</span>
                                        </div>
                                        <div class="document-status">
                                            <span class="status-icon">‚úì</span>
                                            <span class="status-text">Canadian Hosted</span>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="card canadian-theme">
                        <div class="card-header">
                            <div class="card-title">
                                <span class="upload-icon">üì§</span> Add New Document
                            </div>
                        </div>
                        <div class="upload-area" id="upload-area">
                            <span class="upload-icon">üì§</span>
                            <div class="upload-text">Drag & drop files here or click to browse</div>
                        </div>
                    </div>
                </div>

                <div class="main-content">
                    <div class="card canadian-theme">
                        <div class="card-header">
                            <div class="card-title">
                                <span class="document-icon">üìÑ</span> <span id="preview-title">SecureVault Product Manual</span>
                            </div>
                        </div>
                        <div class="document-tags" id="document-tags">
                            <span class="document-tag">security</span>
                            <span class="document-tag">encryption</span>
                            <span class="document-tag">product manual</span>
                            <span class="document-tag">technical documentation</span>
                        </div>
                        <div class="document-preview" id="document-preview">
                            <h2>SecureVault 4.2 - Enterprise Security Solution</h2>
                            <p><strong>Version:</strong> 4.2.1</p>
                            <p><strong>Last Updated:</strong> April 22, 2025</p>
                            <p><strong>Author:</strong> David Chen, CTO</p>
                            
                            <h3>1. Introduction</h3>
                            <p>SecureVault is Northern Tech Solutions' flagship enterprise-grade data encryption and security solution designed specifically for Canadian organizations requiring strict data residency compliance. This manual provides comprehensive guidance on installation, configuration, and operation of SecureVault 4.2.</p>
                            
                            <h3>2. Key Features</h3>
                            <ul>
                                <li><strong>End-to-end encryption</strong> using AES-256 and RSA-4096 algorithms</li>
                                <li><strong>Canadian data residency</strong> with geo-fencing capabilities</li>
                                <li><strong>PIPEDA compliance</strong> frameworks and automatic reporting</li>
                                <li><strong>Access control management</strong> with role-based permissions</li>
                                <li><strong>Comprehensive audit logging</strong> for security monitoring</li>
                                <li><strong>Advanced threat detection</strong> with AI-powered anomaly identification</li>
                            </ul>
                            
                            <h3>3. Canadian Data Residency</h3>
                            <p>SecureVault ensures all data remains within Canadian borders through our network of data centers in Toronto, Montreal, Vancouver, and Calgary. The solution implements geo-fencing technology that prevents data from being transferred outside Canadian jurisdiction, ensuring compliance with data sovereignty requirements.</p>
                        </div>
                    </div>

                    <div class="card canadian-theme">
                        <div class="chat-container">
                            <div class="chat-header">
                                <div class="chat-title">
                                    <span>ü§ñ</span> AI Document Assistant
                                    <div class="compliance-indicator" style="font-size: 12px; padding: 4px 8px; margin-left: 10px;">
                                        <span class="shield-icon">üõ°Ô∏è</span>
                                        <span>Canadian LLM</span>
                                    </div>
                                </div>
                                <div class="memory-indicator">
                                    <span>Memory Active</span>
                                    <span class="memory-count" id="memory-count">0</span>
                                </div>
                            </div>

                            <div class="model-selector">
                                <label for="llm-model">AI Model:</label>
                                <select id="llm-model">
                                    <option value="openai/gpt-4o">GPT-4o (OpenAI)</option>
                                    <option value="anthropic/claude-3-opus">Claude 3 Opus (Anthropic)</option>
                                    <option value="anthropic/claude-3-haiku">Claude 3 Haiku (Anthropic)</option>
                                    <option value="deepseek/deepseek-chat">DeepSeek Chat (Canadian)</option>
                                </select>
                            </div>

                            <div class="chat-messages" id="chat-messages">
                                <div class="message ai-message">
                                    <p>üëã Hello! I'm your AI document assistant for Northern Tech Solutions. I can help you explore our document library, answer questions about specific documents, and provide insights based on our company's knowledge base.</p>
                                    <p>All processing occurs in Canadian data centers in compliance with privacy regulations. What would you like to know about our documents?</p>
                                </div>
                            </div>

                            <div class="chat-input-container">
                                <input type="text" class="chat-input" id="chat-input" placeholder="Ask about documents, products, or company information..." />
                                <button class="send-button" id="send-button">
                                    <svg class="send-icon" viewBox="0 0 24 24">
                                        <path d="M2,21L23,12L2,3V10L17,12L2,14V21Z" />
                                    </svg>
                                </button>
                            </div>

                            <div class="memory-panel">
                                <div class="memory-title">
                                    <span>üß† Conversation Memory</span>
                                    <button class="memory-clear" id="clear-memory">Clear Memory</button>
                                </div>
                                <div class="memory-items" id="memory-items">
                                    <!-- Memory items will be added here dynamically -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Data Analytics Tab -->
        <div class="tab-content" id="analytics-tab">
            <div class="metrics">
                <div class="metric-card">
                    <div class="metric-label">Total Revenue (YTD)</div>
                    <div class="metric-value">$8.7M</div>
                    <div class="metric-trend">
                        <span class="trend-up">‚Üë 12.4% vs. Last Year</span>
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Active Customers</div>
                    <div class="metric-value">142</div>
                    <div class="metric-trend">
                        <span class="trend-up">‚Üë 8.3% vs. Last Year</span>
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Customer Satisfaction</div>
                    <div class="metric-value">4.7/5</div>
                    <div class="metric-trend">
                        <span class="trend-up">‚Üë 0.2 vs. Last Year</span>
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Avg Contract Value</div>
                    <div class="metric-value">$248K</div>
                    <div class="metric-trend">
                        <span class="trend-up">‚Üë 5.2% vs. Last Year</span>
                    </div>
                </div>
            </div>

            <div class="chart-container canadian-theme">
                <div class="chart-header">
                    <div class="chart-title">Revenue Trends & Forecast</div>
                </div>
                <div class="simple-line-chart" id="revenue-chart">
                    <!-- Line chart will be created by JavaScript -->
                </div>
                <div class="chart-legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: var(--primary-blue);"></div>
                        <span>Actual Revenue</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: var(--primary-red);"></div>
                        <span>Forecasted Revenue</span>
                    </div>
                </div>
            </div>

            <div class="chart-container canadian-theme">
                <div class="chart-header">
                    <div class="chart-title">Product Performance</div>
                </div>
                <div class="simple-bar-chart" id="product-chart">
                    <!-- Bar chart will be created by JavaScript -->
                </div>
                <div class="chart-legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: var(--primary-blue);"></div>
                        <span>Revenue (CAD)</span>
                    </div>
                </div>
            </div>

            <div class="card canadian-theme">
                <div class="chat-container">
                    <div class="chat-header">
                        <div class="chat-title">
                            <span>ü§ñ</span> AI Data Assistant
                            <div class="compliance-indicator" style="font-size: 12px; padding: 4px 8px; margin-left: 10px;">
                                <span class="shield-icon">üõ°Ô∏è</span>
                                <span>Canadian LLM</span>
                            </div>
                        </div>
                    </div>
                    <div class="model-selector">
                        <label for="data-llm-model">AI Model:</label>
                        <select id="data-llm-model">
                            <option value="openai/gpt-4o">GPT-4o (OpenAI)</option>
                            <option value="anthropic/claude-3-opus">Claude 3 Opus (Anthropic)</option>
                            <option value="anthropic/claude-3-haiku">Claude 3 Haiku (Anthropic)</option>
                            <option value="deepseek/deepseek-chat">DeepSeek Chat (Canadian)</option>
                        </select>
                    </div>
                    <div class="chat-messages" id="data-chat-messages">
                        <div class="message ai-message">
                            <p>üëã Hello! I'm your AI data assistant for Northern Tech Solutions. I can help you explore company data, analyze trends, and answer questions about our business performance.</p>
                            <p>All data processing occurs in Canadian data centers in compliance with privacy regulations. What would you like to know?</p>
                        </div>
                    </div>
                    <div class="chat-input-container">
                        <input type="text" class="chat-input" id="data-chat-input" placeholder="Ask about company data, trends, or insights..." />
                        <button class="send-button" id="data-send-button">
                            <svg class="send-icon" viewBox="0 0 24 24">
                                <path d="M2,21L23,12L2,3V10L17,12L2,14V21Z" />
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // OpenRouter API key
            const API_KEY = "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";
            
            // Tab Navigation
            const tabs = document.querySelectorAll('.tab');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    // Remove active class from all tabs and contents
                    tabs.forEach(t => t.classList.remove('active'));
                    tabContents.forEach(c => c.classList.remove('active'));
                    
                    // Add active class to selected tab and content
                    this.classList.add('active');
                    document.getElementById(`${tabId}-tab`).classList.add('active');
                });
            });

            // Document Library Functionality
            const documentItems = document.querySelectorAll('.document-item');
            const documentPreview = document.getElementById('document-preview');
            const previewTitle = document.getElementById('preview-title');
            const documentTags = document.getElementById('document-tags');
            
            // Document data
            const documents = {
                'D001': {
                    title: 'SecureVault Product Manual',
                    date: 'Apr 22, 2025',
                    type: 'PDF',
                    tags: ['security', 'encryption', 'product manual', 'technical documentation'],
                    content: `
                        <h2>SecureVault 4.2 - Enterprise Security Solution</h2>
                        <p><strong>Version:</strong> 4.2.1</p>
                        <p><strong>Last Updated:</strong> April 22, 2025</p>
                        <p><strong>Author:</strong> David Chen, CTO</p>
                        
                        <h3>1. Introduction</h3>
                        <p>SecureVault is Northern Tech Solutions' flagship enterprise-grade data encryption and security solution designed specifically for Canadian organizations requiring strict data residency compliance. This manual provides comprehensive guidance on installation, configuration, and operation of SecureVault 4.2.</p>
                        
                        <h3>2. Key Features</h3>
                        <ul>
                            <li><strong>End-to-end encryption</strong> using AES-256 and RSA-4096 algorithms</li>
                            <li><strong>Canadian data residency</strong> with geo-fencing capabilities</li>
                            <li><strong>PIPEDA compliance</strong> frameworks and automatic reporting</li>
                            <li><strong>Access control management</strong> with role-based permissions</li>
                            <li><strong>Comprehensive audit logging</strong> for security monitoring</li>
                            <li><strong>Advanced threat detection</strong> with AI-powered anomaly identification</li>
                        </ul>
                        
                        <h3>3. Canadian Data Residency</h3>
                        <p>SecureVault ensures all data remains within Canadian borders through our network of data centers in Toronto, Montreal, Vancouver, and Calgary. The solution implements geo-fencing technology that prevents data from being transferred outside Canadian jurisdiction, ensuring compliance with data sovereignty requirements.</p>
                    `
                },
                'D002': {
                    title: 'Canadian Data Residency Guide',
                    date: 'Mar 15, 2025',
                    type: 'PDF',
                    tags: ['compliance', 'data residency', 'PIPEDA', 'regulatory', 'white paper'],
                    content: `
                        <h2>Canadian Data Residency Compliance Guide</h2>
                        <p><strong>Version:</strong> 2.1</p>
                        <p><strong>Last Updated:</strong> March 15, 2025</p>
                        <p><strong>Author:</strong> Sarah Johnson, CFO</p>
                        
                        <h3>1. Introduction to Data Residency</h3>
                        <p>Data residency refers to the geographic location where an organization's data is stored and processed. In Canada, data residency requirements are governed by federal and provincial privacy laws that mandate certain types of data must remain within Canadian borders.</p>
                        
                        <h3>2. Key Canadian Privacy Legislation</h3>
                        <ul>
                            <li><strong>PIPEDA (Personal Information Protection and Electronic Documents Act)</strong> - Federal legislation governing the collection, use, and disclosure of personal information</li>
                            <li><strong>Provincial Privacy Laws</strong> - Including PIPA (BC, Alberta), PHIPA (Ontario), and Act respecting the protection of personal information in the private sector (Quebec)</li>
                            <li><strong>CPPA (Consumer Privacy Protection Act)</strong> - Pending legislation that will replace PIPEDA with stronger enforcement mechanisms</li>
                        </ul>
                        
                        <h3>3. Data Residency Requirements</h3>
                        <p>Organizations operating in Canada must adhere to the following data residency requirements:</p>
                        <ul>
                            <li>Personal health information must be stored and processed within Canadian borders</li>
                            <li>Public sector data must remain in Canada unless explicit exemptions are granted</li>
                            <li>Financial institutions must maintain customer records within Canada</li>
                            <li>Quebec's Law 25 requires explicit consent for personal information transferred outside Quebec</li>
                        </ul>
                    `
                },
                'D003': {
                    title: 'Company Overview',
                    date: 'Feb 5, 2025',
                    type: 'PDF',
                    tags: ['company', 'overview', 'corporate', 'profile'],
                    content: `
                        <h2>Northern Tech Solutions - Company Overview</h2>
                        <p><strong>Version:</strong> 1.0</p>
                        <p><strong>Last Updated:</strong> February 5, 2025</p>
                        <p><strong>Author:</strong> Priya Sharma, VP of Marketing</p>
                        
                        <h3>1. About Northern Tech Solutions</h3>
                        <p>Northern Tech Solutions is a Canadian technology company founded in 2011 and headquartered in Toronto, Ontario. We specialize in providing innovative technology solutions with a focus on data security, cloud infrastructure, business intelligence, and regulatory compliance for Canadian organizations.</p>
                        
                        <h3>2. Our Mission</h3>
                        <p>Empowering Canadian businesses with innovative technology solutions while maintaining the highest standards of data privacy and security.</p>
                        
                        <h3>3. Leadership Team</h3>
                        <ul>
                            <li><strong>Marie Tremblay</strong> - Chief Executive Officer</li>
                            <li><strong>David Chen</strong> - Chief Technology Officer</li>
                            <li><strong>Sarah Johnson</strong> - Chief Financial Officer</li>
                            <li><strong>Jean Bouchard</strong> - VP of Sales</li>
                            <li><strong>Priya Sharma</strong> - VP of Marketing</li>
                        </ul>
                    `
                },
                'D007': {
                    title: 'AI Integration Whitepaper',
                    date: 'June 6, 2025',
                    type: 'PDF',
                    tags: ['AI', 'machine learning', 'integration', 'white paper', 'technical'],
                    content: `
                        <h2>AI Integration Whitepaper</h2>
                        <p><strong>Version:</strong> 1.0</p>
                        <p><strong>Last Updated:</strong> June 6, 2025</p>
                        <p><strong>Author:</strong> Ahmed Hassan, Lead Data Scientist</p>
                        
                        <h3>1. Introduction to AI Integration</h3>
                        <p>This whitepaper explores best practices for integrating artificial intelligence capabilities into existing enterprise systems. It focuses specifically on Canadian regulatory requirements and privacy-preserving AI implementation strategies.</p>
                        
                        <h3>2. Canadian AI Regulatory Landscape</h3>
                        <p>Canada has developed a unique approach to AI regulation that balances innovation with ethical considerations:</p>
                        <ul>
                            <li>Artificial Intelligence and Data Act (AIDA) requirements for high-impact AI systems</li>
                            <li>Provincial regulations affecting AI deployment in regulated industries</li>
                            <li>Ethical AI frameworks developed by the Canadian government</li>
                            <li>Cross-border data considerations for AI training and inference</li>
                        </ul>
                    `
                }
            };

            documentItems.forEach(item => {
                item.addEventListener('click', function() {
                    // Remove active class from all items
                    documentItems.forEach(doc => doc.classList.remove('active'));
                    
                    // Add active class to clicked item
                    this.classList.add('active');
                    
                    // Update document preview
                    const docId = this.getAttribute('data-id');
                    updateDocumentPreview(docId);
                    
                    // Add to memory
                    addToMemory('document', documents[docId].title);
                });
            });

            function updateDocumentPreview(docId) {
                const doc = documents[docId];
                if (doc) {
                    previewTitle.textContent = doc.title;
                    documentPreview.innerHTML = doc.content;
                    
                    // Update tags
                    documentTags.innerHTML = '';
                    doc.tags.forEach(tag => {
                        const tagSpan = document.createElement('span');
                        tagSpan.className = 'document-tag';
                        tagSpan.textContent = tag;
                        documentTags.appendChild(tagSpan);
                    });
                }
            }

            // Upload Area Functionality
            const uploadArea = document.getElementById('upload-area');
            
            uploadArea.addEventListener('click', function() {
                simulateFileUpload('New Document.pdf');
            });
            
            uploadArea.addEventListener('dragover', function(e) {
                e.preventDefault();
                this.style.borderColor = 'var(--primary-blue)';
                this.style.backgroundColor = 'rgba(168, 218, 220, 0.1)';
            });
            
            uploadArea.addEventListener('dragleave', function() {
                this.style.borderColor = 'var(--border-color)';
                this.style.backgroundColor = 'transparent';
            });
            
            uploadArea.addEventListener('drop', function(e) {
                e.preventDefault();
                this.style.borderColor = 'var(--border-color)';
                this.style.backgroundColor = 'transparent';
                
                simulateFileUpload('Dropped Document.pdf');
            });
            
            function simulateFileUpload(fileName) {
                // Create processing indicator
                const processingDiv = document.createElement('div');
                processingDiv.className = 'processing-indicator';
                processingDiv.innerHTML = `
                    <span class="loader"></span>
                    <span class="processing-text">Processing ${fileName}...</span>
                `;
                
                // Add to document list area
                const documentList = document.getElementById('document-list');
                documentList.insertAdjacentElement('afterbegin', processingDiv);
                
                // Simulate processing delay
                setTimeout(() => {
                    // Remove processing indicator
                    processingDiv.remove();
                    
                    // Add new document to library
                    const newDocItem = document.createElement('li');
                    newDocItem.className = 'document-item';
                    newDocItem.setAttribute('data-id', 'D007');
                    newDocItem.innerHTML = `
                        <span class="document-icon">üìÑ</span>
                        <div class="document-info">
                            <div class="document-title">AI Integration Whitepaper</div>
                            <div class="document-meta">
                                <span>June 6, 2025</span>
                                <span class="document-type">PDF</span>
                            </div>
                            <div class="document-status">
                                <span class="status-icon">‚úì</span>
                                <span class="status-text">Canadian Hosted</span>
                            </div>
                        </div>
                    `;
                    
                    // Add to document list
                    documentList.insertBefore(newDocItem, documentList.firstChild);
                    
                    // Add event listener to new document
                    newDocItem.addEventListener('click', function() {
                        documentItems.forEach(doc => doc.classList.remove('active'));
                        this.classList.add('active');
                        updateDocumentPreview('D007');
                        addToMemory('document', 'AI Integration Whitepaper');
                    });
                    
                    // Add AI message about the new document
                    const prompt = `You are an AI assistant for Northern Tech Solutions, a Canadian tech company. A user has just uploaded a new document called "AI Integration Whitepaper". The whitepaper discusses best practices for integrating AI into enterprise systems with a focus on Canadian regulatory requirements and privacy-preserving implementation strategies. It covers the Canadian AI regulatory landscape including AIDA requirements, privacy-preserving techniques, and Canadian-hosted AI platforms. Please respond as if you've just processed this document and are informing the user about it. Keep your response focused, professional, and mention that you can answer questions about it.`;
                    
                    callOpenRouterAPI(prompt, 'chat-messages', true);
                }, 2000);
            }

            // Chat Functionality
            const chatInput = document.getElementById('chat-input');
            const sendButton = document.getElementById('send-button');
            const chatMessages = document.getElementById('chat-messages');
            const clearMemoryButton = document.getElementById('clear-memory');
            const modelSelector = document.getElementById('llm-model');
            
            // Data Chat
            const dataChatInput = document.getElementById('data-chat-input');
            const dataSendButton = document.getElementById('data-send-button');
            const dataChatMessages = document.getElementById('data-chat-messages');
            const dataModelSelector = document.getElementById('data-llm-model');

            // Chat Memory System
            let chatMemory = [];

            // Add event listeners for chat
            sendButton.addEventListener('click', function() {
                sendMessage(chatInput, chatMessages, modelSelector);
            });
            
            chatInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessage(chatInput, chatMessages, modelSelector);
                }
            });
            
            // Add event listeners for data chat
            dataSendButton.addEventListener('click', function() {
                sendMessage(dataChatInput, dataChatMessages, dataModelSelector);
            });
            
            dataChatInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessage(dataChatInput, dataChatMessages, dataModelSelector);
                }
            });
            
            // Clear memory button
            clearMemoryButton.addEventListener('click', function() {
                chatMemory = [];
                updateMemoryDisplay();
                
                const prompt = "You are an AI assistant for Northern Tech Solutions, a Canadian tech company. The user has just cleared the conversation memory. Respond briefly to acknowledge this, mentioning that you've forgotten the previous conversation context but are ready to help with new questions.";
                
                callOpenRouterAPI(prompt, 'chat-messages', true);
            });
            
            // Model selector change event
            modelSelector.addEventListener('change', function() {
                const model = this.value;
                const modelName = this.options[this.selectedIndex].text;
                
                const prompt = `You are an AI assistant for Northern Tech Solutions, a Canadian tech company. The user has just switched to the ${modelName} model. Respond briefly to acknowledge this change, mentioning any particular strengths of this model if relevant. Keep your response professional and concise.`;
                
                callOpenRouterAPI(prompt, 'chat-messages', true);
            });
            
            dataModelSelector.addEventListener('change', function() {
                const model = this.value;
                const modelName = this.options[this.selectedIndex].text;
                
                const prompt = `You are an AI assistant for Northern Tech Solutions, a Canadian tech company. The user has just switched to the ${modelName} model. Respond briefly to acknowledge this change, mentioning any particular strengths of this model if relevant. Keep your response professional and concise.`;
                
                callOpenRouterAPI(prompt, 'data-chat-messages', true);
            });

            function sendMessage(inputElement, messagesContainer, modelSelectorElement) {
                const message = inputElement.value.trim();
                if (message === '') return;

                // Add user message
                addMessage(message, 'user', messagesContainer);
                inputElement.value = '';
                
                // Get current document context if in document chat
                let documentContext = "";
                if (messagesContainer === chatMessages) {
                    const activeDoc = document.querySelector('.document-item.active');
                    if (activeDoc) {
                        const docId = activeDoc.getAttribute('data-id');
                        const doc = documents[docId];
                        documentContext = `The user is currently viewing the document: "${doc.title}". Here's the content of the document: ${doc.content.replace(/<[^>]*>/g, '')}`;
                        
                        // Add to memory
                        addToMemory('document', doc.title);
                    }
                }
                
                // Get current memory context
                let memoryContext = "";
                if (chatMemory.length > 0) {
                    memoryContext = "Based on the conversation so far, the user has discussed: " + 
                        chatMemory.map(item => item.value).join(", ");
                }
                
                // Determine which type of assistant we're using
                const assistantType = messagesContainer === chatMessages ? 
                    "document assistant that helps with questions about company documents" : 
                    "data assistant that helps analyze company business data, trends, and metrics";
                
                // Create the prompt
                let prompt = `You are an AI ${assistantType} for Northern Tech Solutions, a Canadian tech company. 
                All data processing occurs in Canadian data centers in compliance with privacy regulations. 
                ${documentContext}
                ${memoryContext}
                
                User question: ${message}
                
                Respond in a helpful, professional manner. If the question relates to documents or company information that you have access to, provide accurate information. If you don't have the specific information, acknowledge that limitation.`;
                
                // Get the selected model
                const model = modelSelectorElement.value;
                
                // Add typing indicator
                const typingIndicatorId = `typing-indicator-${Date.now()}`;
                const typingIndicator = document.createElement('div');
                typingIndicator.className = 'typing-indicator';
                typingIndicator.id = typingIndicatorId;
                typingIndicator.innerHTML = `
                    <div class="typing-dots">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                `;
                messagesContainer.appendChild(typingIndicator);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
                
                // Call the API
                callOpenRouterAPI(prompt, messagesContainer.id, false, model, typingIndicatorId);
            }

            function addMessage(text, sender, container, source = null) {
                const messageDiv = document.createElement('div');
                messageDiv.className = `message ${sender}-message`;
                
                if (source && sender === 'ai') {
                    // Add citation to the text
                    messageDiv.innerHTML = `
                        <p>${text}</p>
                        <div class="message-source">Source: ${source}</div>
                    `;
                } else {
                    messageDiv.textContent = text;
                }
                
                container.appendChild(messageDiv);
                container.scrollTop = container.scrollHeight;
                
                // If it's a user message, extract potential memory items
                if (sender === 'user') {
                    extractMemoryItems(text);
                }
            }

            function addToMemory(type, value) {
                // Check if already in memory
                const exists = chatMemory.some(item => 
                    item.type === type && item.value === value);
                
                if (!exists) {
                    chatMemory.push({ type, value });
                    updateMemoryDisplay();
                }
            }

            function extractMemoryItems(text) {
                // Extract potential key concepts from user message
                const keywords = [
                    'SecureVault', 'CloudNorth', 'DataInsight', 'ComplianceGuard', 
                    'PIPEDA', 'encryption', 'data residency', 'compliance', 
                    'Canadian', 'security', 'privacy', 'AI', 'machine learning'
                ];
                
                keywords.forEach(keyword => {
                    if (text.toLowerCase().includes(keyword.toLowerCase())) {
                        addToMemory('concept', keyword);
                    }
                });
            }

            function updateMemoryDisplay() {
                const memoryItems = document.getElementById('memory-items');
                const memoryCount = document.getElementById('memory-count');
                
                memoryItems.innerHTML = '';
                chatMemory.forEach(item => {
                    const memoryItem = document.createElement('div');
                    memoryItem.className = 'memory-item';
                    
                    let icon = 'üí°';
                    if (item.type === 'document') {
                        icon = 'üìÑ';
                    } else if (item.type === 'concept') {
                        icon = 'üß†';
                    }
                    
                    memoryItem.innerHTML = `<span>${icon}</span> ${item.value}`;
                    memoryItems.appendChild(memoryItem);
                });
                
                // Update memory count
                memoryCount.textContent = chatMemory.length;
            }

            // OpenRouter API Call Function
            async function callOpenRouterAPI(prompt, containerId, isSystemMessage = false, model = null, typingIndicatorId = null) {
                const container = document.getElementById(containerId);
                const selectedModel = model || document.getElementById(containerId === 'chat-messages' ? 'llm-model' : 'data-llm-model').value;
                
                try {
                    const response = await fetch('https://openrouter.ai/api/v1/chat/completions', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${API_KEY}`,
                            'HTTP-Referer': window.location.href,
                            'X-Title': 'Northern Tech Solutions Demo'
                        },
                        body: JSON.stringify({
                            model: selectedModel,
                            messages: [
                                {
                                    role: isSystemMessage ? "system" : "user",
                                    content: prompt
                                }
                            ],
                            stream: true
                        })
                    });

                    if (!response.ok) {
                        throw new Error(`API request failed with status ${response.status}`);
                    }

                    // Create a message element for the streaming response
                    const messageDiv = document.createElement('div');
                    messageDiv.className = 'message ai-message';
                    
                    // If there's a typing indicator, replace it with the message div
                    if (typingIndicatorId) {
                        const typingIndicator = document.getElementById(typingIndicatorId);
                        if (typingIndicator) {
                            typingIndicator.replaceWith(messageDiv);
                        } else {
                            container.appendChild(messageDiv);
                        }
                    } else {
                        container.appendChild(messageDiv);
                    }

                    // Set up streaming response handling
                    const reader = response.body.getReader();
                    const decoder = new TextDecoder();
                    let responseText = '';

                    while (true) {
                        const { done, value } = await reader.read();
                        if (done) break;
                        
                        // Decode the chunk
                        const chunk = decoder.decode(value);
                        
                        // Parse the chunk (it may contain multiple SSE messages)
                        const lines = chunk.split('\n');
                        for (const line of lines) {
                            if (line.startsWith('data: ') && line !== 'data: [DONE]') {
                                try {
                                    const data = JSON.parse(line.substring(6));
                                    if (data.choices && data.choices[0] && data.choices[0].delta && data.choices[0].delta.content) {
                                        responseText += data.choices[0].delta.content;
                                        messageDiv.innerHTML = `<p>${responseText}</p>`;
                                        container.scrollTop = container.scrollHeight;
                                    }
                                } catch (e) {
                                    console.error('Error parsing SSE message:', e);
                                }
                            }
                        }
                    }

                    // Extract potential memory items from the response
                    extractMemoryItems(responseText);
                    
                    // Scroll to the bottom
                    container.scrollTop = container.scrollHeight;
                    
                } catch (error) {
                    console.error('Error calling OpenRouter API:', error);
                    
                    // Remove typing indicator if it exists
                    if (typingIndicatorId) {
                        const typingIndicator = document.getElementById(typingIndicatorId);
                        if (typingIndicator) {
                            typingIndicator.remove();
                        }
                    }
                    
                    // Add error message
                    const errorDiv = document.createElement('div');
                    errorDiv.className = 'error-message';
                    errorDiv.textContent = `Error: Could not connect to AI service. ${error.message}`;
                    container.appendChild(errorDiv);
                    container.scrollTop = container.scrollHeight;
                }
            }

            // Initialize Simple Charts
            function initializeCharts() {
                // Revenue Chart Data
                const revenueData = {
                    labels: ['2023 Q1', '2023 Q2', '2023 Q3', '2023 Q4', '2024 Q1', '2024 Q2', '2024 Q3', '2024 Q4'],
                    values: [3450000, 3650000, 3800000, 3950000, 4250000, 4450000, 4650000, 4850000],
                    actual: 6 // First 6 points are actual data
                };

                // Product Chart Data
                const productData = {
                    labels: ['SecureVault', 'CloudNorth', 'DataInsight', 'ComplianceGuard', 'NorthStar CRM'],
                    values: [3250000, 4750000, 2850000, 2100000, 1950000]
                };

                // Create Simple Line Chart
                createSimpleLineChart('revenue-chart', revenueData);
                
                // Create Simple Bar Chart
                createSimpleBarChart('product-chart', productData);
            }

            function createSimpleLineChart(containerId, data) {
                const container = document.getElementById(containerId);
                const width = container.clientWidth;
                const height = container.clientHeight;
                
                // Clear container
                container.innerHTML = '';
                
                // Calculate scales
                const maxValue = Math.max(...data.values) * 1.1;
                const xStep = width / (data.labels.length - 1);
                
                // Add points and line segments
                for (let i = 0; i < data.values.length; i++) {
                    const x = i * xStep;
                    const y = height - (data.values[i] / maxValue) * height;
                    
                    // Add point
                    const point = document.createElement('div');
                    point.className = 'simple-line-point';
                    point.style.left = `${x}px`;
                    point.style.top = `${y}px`;
                    container.appendChild(point);
                    
                    // Add line segment (except for first point)
                    if (i > 0) {
                        const prevX = (i - 1) * xStep;
                        const prevY = height - (data.values[i - 1] / maxValue) * height;
                        
                        const length = Math.sqrt(Math.pow(x - prevX, 2) + Math.pow(y - prevY, 2));
                        const angle = Math.atan2(y - prevY, x - prevX) * 180 / Math.PI;
                        
                        const line = document.createElement('div');
                        line.className = i >= data.actual ? 'simple-line-forecast' : 'simple-line-segment';
                        line.style.width = `${length}px`;
                        line.style.left = `${prevX}px`;
                        line.style.top = `${prevY}px`;
                        line.style.transform = `rotate(${angle}deg)`;
                        
                        container.appendChild(line);
                    }
                    
                    // Add labels
                    const label = document.createElement('div');
                    label.className = 'simple-line-label';
                    label.style.left = `${x}px`;
                    label.style.bottom = '0';
                    label.textContent = data.labels[i];
                    container.appendChild(label);
                    
                    // Add values for selected points
                    if (i % 2 === 0 || i === data.values.length - 1) {
                        const value = document.createElement('div');
                        value.className = 'simple-line-value';
                        value.style.left = `${x}px`;
                        value.style.top = `${y}px`;
                        value.textContent = `$${(data.values[i] / 1000000).toFixed(1)}M`;
                        container.appendChild(value);
                    }
                }
            }

            function createSimpleBarChart(containerId, data) {
                const container = document.getElementById(containerId);
                const width = container.clientWidth;
                const height = container.clientHeight;
                
                // Clear container
                container.innerHTML = '';
                
                // Calculate scales
                const maxValue = Math.max(...data.values) * 1.1;
                const barWidth = width / data.labels.length * 0.6;
                const barSpacing = width / data.labels.length;
                
                // Add bars
                for (let i = 0; i < data.labels.length; i++) {
                    const barHeight = (data.values[i] / maxValue) * height;
                    const x = i * barSpacing + barSpacing / 2 - barWidth / 2;
                    
                    // Create bar
                    const bar = document.createElement('div');
                    bar.className = 'simple-bar';
                    bar.style.left = `${x}px`;
                    bar.style.width = `${barWidth}px`;
                    bar.style.height = `0px`; // Start at 0 for animation
                    container.appendChild(bar);
                    
                    // Add label
                    const label = document.createElement('div');
                    label.className = 'simple-bar-label';
                    label.style.left = `${x + barWidth / 2}px`;
                    label.textContent = data.labels[i];
                    container.appendChild(label);
                    
                    // Add value
                    const value = document.createElement('div');
                    value.className = 'simple-bar-value';
                    value.style.left = `${x + barWidth / 2}px`;
                    value.style.bottom = `${barHeight + 5}px`;
                    value.textContent = `$${(data.values[i] / 1000000).toFixed(1)}M`;
                    container.appendChild(value);
                    
                    // Animate bar height
                    setTimeout(() => {
                        bar.style.height = `${barHeight}px`;
                    }, 100 * i);
                }
            }

            // Initialize everything
            initializeCharts();
            
            // Add window resize handler to redraw charts
            window.addEventListener('resize', function() {
                initializeCharts();
            });
        });
    </script>
</body>
</html>
